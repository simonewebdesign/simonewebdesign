// TODO: This file is shit. Burn it and rewrite from scratch.
// You could try using categories.scss in place of this shit.
// In fact I rewrote that categories.scss exactly for this reason,
// it might be a very good idea to just throw this shit away
// and share categories.scss between the layouts.
// You probably don't even need hacks if you think about it:
// try to include the <link> tag in both layouts, or even better,
// use a single layout, named archives or something, that uses the categories.scss.
@import "compass/typography/links/hover-link";
@import "compass/typography/links/link-colors";
@import "variables";

#archive {
  #content > div { &, > article { padding-top: 0; } }
}
#blog-archives {
  article {
    padding: 1em 0 1em;
    margin-bottom: 0;
    position: relative;
    background: url('/images/dotted-border.png') bottom left repeat-x;
    &:last-child {
      background: none;
    }
    footer { padding: 0; margin: 0;}
  }
  h1 { margin-bottom: .3em; padding-bottom: 0; color: #333; }
  h2 { display: none; margin-top: 0; padding-top: 0; }
  h1 {
    font-size: 1.5em;
    margin-top: 0;
    a {
      @include hover-link;
      color: inherit;
      &:hover { color: $link-color-hover; }
      font-weight: normal;
      display: inline-block;
    }
  }

  color: #aaa;
  .entry-content { display: none; }
  time {
    font-size: .9em;
    line-height: 1.2em;
    .month, .day { display: inline-block; }
    .month { text-transform: uppercase; }
  }
  p { margin-bottom: 1em; }

  a:hover { color: $link-color-hover; }

  @media only screen and (min-width: 550px) {
    article { margin-left: 5em; }
    h2 {
      margin-bottom: .3em;
      font-weight: normal;
      display: inline-block;
      position: relative; top: -1px;
      float: left;
      &:first-child { padding-top: .75em; }
    }
    time {
      position: absolute;
      text-align: right;
      left: 0em;
      top: 1.8em;
    }
    .year { display: none; }
    article {
      padding:{left: 4.5em; bottom: .7em;}
    }
  a.category {
    line-height: 1.1em;
    }
  }
}
#content > .category {
  article {
    margin-left: 0;
    padding-left: 6.8em;
  }
  .year { display: inline; }
}
article+article {
  margin-top: 0;
}