---
layout: post
title: Why I moved from Fly.io to Cloudflare Pages
date: 2025-05-16
# categories: JavaScript
comments: yes
published: yes
---

It's been three weeks since I ported my site, *simonewebdesign.it*, from Fly.io to Cloudflare. I'm writing this blog post to rationalize the choice.

If you're considering switching as well, bear in mind that your use case may be completely different from mine. Besides, what you'll be reading is mostly just my personal experience.

## [Why?](#why)

I've been in between jobs and therefore have a lot more free time than usual, so I thought I would give this site a bit of love. There was some long-standing technical debt that I felt like I needed to address.

What you see is a simple static website, generated by Jekyll. The whole thing is on [GitHub](https://github.com/simonewebdesign/simonewebdesign/), in case you're curious to see the source—realistically there's nothing unusual about it; from that perspective, it's just *someone's jekyll site*. Nothing to see here.

So what were the problems?

<!--  ## [The server](#the-server) -->

---

Fly.io gives you a lot of freedom: you just need to provide a [Dockerfile](https://docs.docker.com/build/concepts/dockerfile/), and whatever you put in there will become your <nobr>site/app</nobr>'s infrastructure.

Now, whilst I appreciate that level of freedom, I think it comes with a complexity tradeoff. When it comes to static web hosting, you only really care about a few requirements (or **acceptance criteria**, if you prefer):

- The site loads **successfully**;
- It is **fast enough**;
- It doesn't take a lot of **time or money** to deploy.

## [A bit of history](#a-bit-of-history)

Before Fly.io, I used to host this site on Heroku. It was a modern choice; deploying was as simple as `git push heroku master` and, crucially, it was *free*.

So why did I switch to Fly.io? [I wrote about this before]({% post_url 2022-10-09-one-request %}), but essentially they had so much abuse of their free tier that they had to shut it down. For me and many others, that meant having to start paying for their services. When I looked around for an alternative, Fly.io seemed like a great equivalent choice.

Their marketing was top-notch, they wrote a migration guide and even built a bespoke tool to make the migration a breeze. I was a happy non-paying customer.

However, as I kept using their services, I noticed some friction points. Deploying wasn't actually as straightforward as it used to be: the Dockerfile was taking hundreds of megabytes of storage space and it would take a while to compile.

Moreover, I noticed the requests that were being served directly from the fly.io webserver were a bit slow—they were taking ~700 ms to complete. At the time I was already using Cloudflare, both as a DNS provider and as a proxy service, and the requests that were being served by Cloudflare were considerably faster.

To be fair, I didn't exactly measure the latency. I have an end-to-end executable test I use to check that some key pages are still up and running, and that seemed to have gotten slower when I moved to Fly.io. Now that I'm on Cloudflare, it seems *slightly* faster. Again, this is just my perception—I might be wrong here. Next time I migrate to a SaaS platform, I need to remind myself to measure this stuff.

Anyway, I tried to mitigate the problem by choosing a lighter Docker image: from a quick internet search I discovered [<nobr>pierrezemb/gostatic</nobr>](https://github.com/PierreZ/goStatic), a really small static web server, so I ditched the <nobr>puma/rack</nobr> server I was using and went for that instead.

It worked, but it was still far from ideal. HTTP requests were still slow and I had lost the custom 404 page I had built. I could have tried configuring the server, and I did, but couldn't immediately make it work. In the end, I knew this was only a temporary solution.

## [Cloudflare Pages as a viable solution](#cloudflare-pages-as-a-viable-solution)

[Cloudflare Pages](https://pages.cloudflare.com/) is really cool. I didn't even know it existed
